<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}Blox Blog{% endblock %}</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Indie+Flower&family=Special+Elite&family=Shadows+Into+Light&family=Poppins&display=swap" rel="stylesheet">

  <style>
    /* Theme Definitions */
    body.theme-vintage {
      --bg-color: #fffbe6;
      --text-color: #3e3e3e;
      --accent-color: #c5a880;
      --paper-color: #fdf6e3;
      --border-color: #d4c5aa;
      --font-family: 'Indie Flower', cursive;
    }

    body.theme-old-diary {
      --bg-color: #f2efe8;
      --text-color: #433e3b;
      --accent-color: #8c6e56;
      --paper-color: #f8f0d8;
      --border-color: #a18c72;
      --font-family: 'Special Elite', cursive;
    }

    body.theme-diary-book {
      --bg-color: #fffdf7;
      --text-color: #2e2e2e;
      --accent-color: #ab9b87;
      --paper-color: #fdfaf5;
      --border-color: #ccc1af;
      --font-family: 'Shadows Into Light', cursive;
    }

    body.theme-default {
      --bg-color: #f4f4f9;
      --text-color: #222;
      --accent-color: #0066cc;
      --paper-color: #ffffff;
      --border-color: #dcdcdc;
      --font-family: 'Segoe UI', sans-serif;
    }

    body.theme-sticky-notes {
      --bg-color: #fffae3;
      --text-color: #333;
      --accent-color: #ffc107;
      --paper-color: #fff3cd;
      --border-color: #f0e68c;
      --font-family: 'Indie Flower', cursive;
    }

    body.theme-professional {
      --bg-color: #ffffff;
      --text-color: #1a1a1a;
      --accent-color: #343a40;
      --paper-color: #f8f9fa;
      --border-color: #dee2e6;
      --font-family: 'Poppins', sans-serif;
    }

    /* Base Styling */
    body {
      background: var(--bg-color);
      color: var(--text-color);
      font-family: var(--font-family);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .navbar {
      background-color: var(--accent-color);
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .navbar-brand, .nav-link {
      color: white !important;
    }

    main.container {
      background: var(--paper-color);
      flex: 1;
      padding: 40px 20px;
      border: 1px solid var(--border-color);
      margin: 20px auto;
      border-radius: 10px;
      max-width: 900px;
      box-shadow: 5px 5px 20px rgba(0,0,0,0.1);
    }

    footer {
      text-align: center;
      padding: 15px 0;
      background-color: var(--accent-color);
      color: white;
      font-size: 14px;
    }

    .fab-container {
      position: fixed;
      bottom: 30px;
      right: 30px;
      z-index: 1050;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
    }

    .theme-button {
      margin-bottom: 10px;
      background-color: var(--accent-color);
      color: white;
      border: none;
      padding: 8px 14px;
      border-radius: 12px;
      cursor: pointer;
      font-size: 15px;
      font-family: var(--font-family);
      box-shadow: 0 3px 6px rgba(0,0,0,0.1);
    }

    .fab-button {
      width: 60px;
      height: 60px;
      background-color: var(--accent-color);
      color: white;
      border-radius: 50%;
      font-size: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      transition: transform 0.3s ease;
    }

    .fab-options {
      display: none;
      flex-direction: column;
      align-items: flex-end;
      margin-bottom: 10px;
    }

    .fab-options.show {
      display: flex;
      animation: fadeInUp 0.3s ease forwards;
    }

    .fab-option {
      background: white;
      color: var(--text-color);
      padding: 8px 14px;
      margin: 8px 0;
      border-radius: 20px;
      font-size: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
      box-shadow: 0 3px 6px rgba(0,0,0,0.1);
      cursor: pointer;
      font-family: var(--font-family);
    }

    .fab-option:hover {
      background-color: #f2f2f2;
    }
  </style>
</head>
<body class="theme-professional">


<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg px-3">
  <div class="container-fluid">
    <a class="navbar-brand d-flex align-items-center" href="{% url 'welcome' %}">
      <img src="https://img.icons8.com/ios-filled/30/ffffff/blog.png" class="me-2" />
      <strong>Blox</strong>
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-end" id="navMenu">
      <ul class="navbar-nav mb-2 mb-lg-0">
        {% if user.is_authenticated %}
          <li class="nav-item"><a class="nav-link" href="{% url 'dashboard' %}">Dashboard</a></li>
          <li class="nav-item"><a class="nav-link" href="{% url 'post_create' %}">New Post</a></li>
          <li class="nav-item"><a class="nav-link text-danger" href="{% url 'logout' %}">Logout</a></li>
        {% else %}
          <li class="nav-item"><a class="nav-link" href="{% url 'login' %}">Login</a></li>
          <li class="nav-item"><a class="nav-link" href="{% url 'register' %}">Register</a></li>
        {% endif %}
        <li class="nav-item"><a class="nav-link" href="{% url 'about' %}">About</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- MAIN -->
<main class="container" data-aos="fade-up">
  {% block content %}{% endblock %}
</main>

<!-- FAB and THEME -->
<div class="fab-container">
  <button class="theme-button" onclick="cycleTheme()">
    üìù Theme: <span id="themeName">Vintage</span>
  </button>
  <div class="fab-button" onclick="toggleFAB()">+</div>
  <div class="fab-options" id="fabOptions">
    <div class="fab-option" onclick="window.location.href='{% url 'post_create' %}?type=text'">
      üìù <span>Text</span>
    </div>
    <div class="fab-option" onclick="window.location.href='{% url 'post_create' %}?type=image'">
      üñºÔ∏è <span>Image</span>
    </div>
    <div class="fab-option" onclick="window.location.href='{% url 'post_create' %}?type=audio'">
      üé§ <span>Audio</span>
    </div>
    <div class="fab-option" onclick="window.location.href='{% url 'dashboard' %}'">
      üìñ <span>View Blogs</span>
    </div>
  </div>
</div>

<!-- FOOTER -->
<footer>
  ¬© {{ year|default:"2025" }} Blox Blog. All rights reserved.
</footer>

<!-- SCRIPTS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
  AOS.init();

  function toggleFAB() {
    document.getElementById("fabOptions").classList.toggle("show");
  }

  let currentThemeIndex = 5;
  const themes = [
    "theme-vintage",
    "theme-old-diary",
    "theme-diary-book",
    "theme-default",
    "theme-sticky-notes",
    "theme-professional"
  ];
  const themeNames = [
    "Vintage",
    "Old Diary",
    "Diary Book",
    "Default",
    "Sticky Notes",
    "Professional"
  ];

  function cycleTheme() {
    document.body.classList.remove(themes[currentThemeIndex]);
    currentThemeIndex = (currentThemeIndex + 1) % themes.length;
    document.body.classList.add(themes[currentThemeIndex]);
    document.getElementById("themeName").innerText = themeNames[currentThemeIndex];
  }
</script>

</body>
</html>
